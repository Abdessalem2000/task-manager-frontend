(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(9828)}])},9828:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return n}});var r=o(5893),a=o(7294);function n(){let[e,t]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{t(!0)},[]),!e)return(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",fontSize:"24px",color:"white",fontWeight:"600"},children:(0,r.jsxs)("div",{style:{textAlign:"center"},children:[(0,r.jsx)("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"\uD83D\uDE80"}),(0,r.jsx)("div",{children:"Loading Task Manager..."})]})});try{let[e,t]=(0,a.useState)({name:"yahia",email:"yahia@example.com"}),[o,n]=(0,a.useState)([]),[s,i]=(0,a.useState)(!1),[l,d]=(0,a.useState)(""),[c,p]=(0,a.useState)(null),[x,u]=(0,a.useState)([]),[g,h]=(0,a.useState)(!1),[b,f]=(0,a.useState)(!1),[y,m]=(0,a.useState)(!1),[S,k]=(0,a.useState)(null),[D,j]=(0,a.useState)([]),[C,w]=(0,a.useState)(""),[v,F]=(0,a.useState)("all"),[B,z]=(0,a.useState)("all"),[A,R]=(0,a.useState)(!0),[W,E]=(0,a.useState)(!1),[T,_]=(0,a.useState)([]),[I,P]=(0,a.useState)(""),[N,L]=(0,a.useState)(0),[O,M]=(0,a.useState)(null),[U,H]=(0,a.useState)(!1),[J,K]=(0,a.useState)(null),[X,G]=(0,a.useState)(null),[q,Q]=(0,a.useState)(!1),[V,Y]=(0,a.useState)({total:0,completed:0,pending:0}),[Z,$]=(0,a.useState)({total:0,completed:0,streak:0}),[ee,et]=(0,a.useState)(!1),[eo,er]=(0,a.useState)("medium"),[ea,en]=(0,a.useState)("work"),[es,ei]=(0,a.useState)(null),[el,ed]=(0,a.useState)(!1),[ec,ep]=(0,a.useState)(!0),[ex,eu]=(0,a.useState)(useSensors(useSensor(PointerSensor,{activationConstraint:{distance:8}}),useSensor(KeyboardSensor,{coordinateGetter:sortableKeyboardCoordinates}))),[eg,eh]=(0,a.useState)(null),eb=b?{bg:"#1a1a1a",cardBg:"#2d2d2d",text:"#FFFFFF",border:"#404040",hoverBg:"#3d3d3d",subtext:"#A7A7A7",success:"#1DB954",warning:"#FFA726",danger:"#FF6B35",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}:{bg:"#F8F9FA",cardBg:"#FFFFFF",text:"#202124",border:"#E0E0E0",hoverBg:"#F1F3F4",subtext:"#5F6368",success:"#1DB954",warning:"#FFA726",danger:"#FF6B35",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},ef={low:"#667eea",medium:"#FFA726",high:"#FF6B35"},ey={work:"#667eea",personal:"#1DB954",shopping:"#FF6B35"},em=async()=>{try{let e=await fetch("/api/tasks"),t=await e.json();console.log("\uD83D\uDCCA API Response:",t),t.tasks&&(n(t.tasks),i(t.dbConnected||!1),t.dbConnected&&!s&&eD("Database connected successfully! \uD83D\uDFE2","success"))}catch(e){console.error("❌ Fetch tasks error:",e),eD("Failed to fetch tasks. Using offline mode.","error"),i(!1)}},eS=async e=>{try{let t=await fetch("/api/tasks?taskId=".concat(e),{method:"DELETE"}),o=await t.json();o.message?(n(t=>t.filter(t=>t._id!==e)),eD("Task deleted successfully! \uD83D\uDDD1️","success"),i(o.dbConnected||!1)):eD(o.error||"Failed to delete task","error")}catch(e){console.error("❌ Delete task error:",e),eD("Failed to delete task. Please try again.","error")}},ek=async e=>{try{let t=o.find(t=>t._id===e);if(!t)return;let r=await fetch("/api/tasks?taskId=".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:!t.completed})}),a=await r.json();a.task?(n(t=>t.map(t=>t._id===e?{...t,completed:a.task.completed}:t)),eD(a.task.completed?"Task completed! \uD83C\uDF89":"Task marked as incomplete","success"),i(a.dbConnected||!1)):eD(a.error||"Failed to update task","error")}catch(e){console.error("❌ Toggle task error:",e),eD("Failed to update task. Please try again.","error")}},eD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",o=Date.now();u(r=>[...r,{id:o,message:e,type:t}]),setTimeout(()=>{u(e=>e.filter(e=>e.id!==o))},3e3)},ej=o.filter(e=>{let t=e.name.toLowerCase().includes(C.toLowerCase()),o="all"===v||e.category===v,r="all"===B||e.priority===B,a=A||!e.completed;return t&&o&&r&&a});return o.filter(e=>e.completed).length,o.filter(e=>!e.completed).length,o.filter(e=>"work"===e.category).length,o.filter(e=>"personal"===e.category).length,o.filter(e=>"shopping"===e.category).length,(0,a.useEffect)(()=>{em();try{let e=localStorage.getItem("darkMode");e&&f(JSON.parse(e))}catch(e){console.warn("Failed to load theme preference:",e)}},[]),(0,a.useEffect)(()=>{try{localStorage.setItem("darkMode",JSON.stringify(b))}catch(e){console.warn("Failed to save theme preference:",e)}},[b]),(0,r.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:eb.bg,color:eb.text,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',margin:0,padding:0,position:"relative"},children:[(0,r.jsx)("div",{style:{position:"fixed",top:"0",left:"0",right:"0",backgroundColor:s?eb.success:eb.danger,color:"white",padding:"8px 16px",textAlign:"center",fontSize:"14px",fontWeight:"500",zIndex:"9999",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:s?"\uD83D\uDFE2 Database Connected":"\uD83D\uDD34 Offline Mode - Tasks may not sync"}),(0,r.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"60px 20px 20px"},children:[(0,r.jsxs)("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",padding:"20px",backgroundColor:eb.cardBg,borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[(0,r.jsx)("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:eb.gradient,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"20px",fontWeight:"bold"},children:e.name.charAt(0).toUpperCase()}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{style:{margin:"0",fontSize:"2rem",fontWeight:"700",color:eb.text},children:["Welcome back, ",e.name,"! \uD83D\uDC4B"]}),(0,r.jsx)("p",{style:{margin:"5px 0 0 0",color:eb.subtext,fontSize:"1rem"},children:e.email})]})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,r.jsx)("button",{onClick:()=>m(!0),style:{padding:"10px 20px",backgroundColor:eb.hoverBg,border:"1px solid ".concat(eb.border),borderRadius:"8px",color:eb.text,cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease"},children:"⚙️ Settings"}),(0,r.jsxs)("button",{onClick:()=>f(!b),style:{padding:"10px 20px",backgroundColor:eb.hoverBg,border:"1px solid ".concat(eb.border),borderRadius:"8px",color:eb.text,cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease"},children:[b?"☀️":"\uD83C\uDF19"," ",b?"Light":"Dark"]})]})]}),(0,r.jsx)("div",{style:{display:"flex",gap:"10px",marginBottom:"25px",borderBottom:"2px solid ".concat(eb.border),paddingBottom:"10px"},children:["tasks","habits","stats"].map(e=>(0,r.jsxs)("button",{onClick:()=>{"tasks"===e&&E(!1),"habits"===e&&E(!0),"stats"===e&&Q(!0)},style:{padding:"12px 24px",backgroundColor:"tasks"===e&&!W&&!q||"habits"===e&&W||"stats"===e&&q?eb.gradient:"transparent",border:"none",borderRadius:"8px",color:"tasks"===e&&!W&&!q||"habits"===e&&W||"stats"===e&&q?"white":eb.text,cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease"},children:["tasks"===e&&"\uD83D\uDCDD Tasks","habits"===e&&"\uD83C\uDF1F Habits","stats"===e&&"\uD83D\uDCCA Stats"]},e))}),(0,r.jsxs)("div",{style:{display:"flex",gap:"15px",marginBottom:"25px",flexWrap:"wrap"},children:[(0,r.jsx)("input",{type:"text",placeholder:"\uD83D\uDD0D Search tasks...",value:C,onChange:e=>w(e.target.value),style:{flex:"1",minWidth:"250px",padding:"12px 16px",border:"1px solid ".concat(eb.border),borderRadius:"8px",fontSize:"14px",backgroundColor:eb.cardBg,color:eb.text}}),(0,r.jsxs)("select",{value:v,onChange:e=>F(e.target.value),style:{padding:"12px",border:"1px solid ".concat(eb.border),borderRadius:"8px",fontSize:"14px",backgroundColor:eb.cardBg,color:eb.text},children:[(0,r.jsx)("option",{value:"all",children:"All Categories"}),(0,r.jsx)("option",{value:"work",children:"Work"}),(0,r.jsx)("option",{value:"personal",children:"Personal"}),(0,r.jsx)("option",{value:"shopping",children:"Shopping"})]}),(0,r.jsxs)("select",{value:B,onChange:e=>z(e.target.value),style:{padding:"12px",border:"1px solid ".concat(eb.border),borderRadius:"8px",fontSize:"14px",backgroundColor:eb.cardBg,color:eb.text},children:[(0,r.jsx)("option",{value:"all",children:"All Priorities"}),(0,r.jsx)("option",{value:"high",children:"High Priority"}),(0,r.jsx)("option",{value:"medium",children:"Medium Priority"}),(0,r.jsx)("option",{value:"low",children:"Low Priority"})]}),(0,r.jsx)("button",{onClick:()=>R(!A),style:{padding:"12px 20px",backgroundColor:A?eb.success:eb.hoverBg,border:"1px solid ".concat(eb.border),borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:A?"✅ Show All":"\uD83D\uDC41️ Active Only"})]}),(0,r.jsx)("div",{style:{marginBottom:"25px"},children:(0,r.jsx)("button",{onClick:()=>et(!0),style:{padding:"15px 30px",backgroundColor:eb.gradient,border:"none",borderRadius:"10px",color:"white",fontSize:"16px",fontWeight:"600",cursor:"pointer",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)",transition:"all 0.2s ease"},children:"➕ Add New Task"})}),!W&&!q&&(0,r.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},children:ej.map((e,t)=>(0,r.jsx)("div",{style:{backgroundColor:eb.cardBg,border:"1px solid ".concat(eb.border),borderRadius:"12px",padding:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",borderLeft:"4px solid ".concat(ef[e.priority]),transition:"all 0.2s ease",opacity:e.completed?.7:1},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("h3",{style:{margin:"0",fontSize:"1.2rem",fontWeight:"600",color:eb.text,textDecoration:e.completed?"line-through":"none"},children:e.name}),(0,r.jsxs)("div",{style:{display:"flex",gap:"8px",marginTop:"5px"},children:[(0,r.jsx)("span",{style:{padding:"4px 8px",backgroundColor:ey[e.category],color:"white",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:e.category}),(0,r.jsx)("span",{style:{padding:"4px 8px",backgroundColor:ef[e.priority],color:"white",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:e.priority})]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,r.jsx)("button",{onClick:()=>ek(e._id),style:{padding:"8px 12px",backgroundColor:e.completed?eb.warning:eb.success,border:"none",borderRadius:"6px",color:"white",cursor:"pointer",fontSize:"12px",fontWeight:"500"},children:e.completed?"↩️ Undo":"✅ Complete"}),(0,r.jsx)("button",{onClick:()=>eS(e._id),style:{padding:"8px 12px",backgroundColor:eb.danger,border:"none",borderRadius:"6px",color:"white",cursor:"pointer",fontSize:"12px",fontWeight:"500"},children:"\uD83D\uDDD1️ Delete"})]})]})},e._id))}),x.map(e=>(0,r.jsx)("div",{style:{position:"fixed",top:"20px",right:"20px",padding:"15px 20px",backgroundColor:"success"===e.type?eb.success:"error"===e.type?eb.danger:"warning"===e.type?eb.warning:eb.hoverBg,color:"white",borderRadius:"8px",boxShadow:"0 4px 15px rgba(0,0,0,0.2)",zIndex:"9999",fontSize:"14px",fontWeight:"500",animation:"slideInRight 0.3s ease-out"},children:e.message},e.id)),(0,r.jsxs)("div",{style:{position:"fixed",bottom:"10px",left:"10px",padding:"5px 10px",backgroundColor:"rgba(0,0,0,0.8)",color:"white",borderRadius:"4px",fontSize:"10px",zIndex:"9999"},children:["Tasks: ",ej.length," | DB: ",s?"\uD83D\uDFE2":"\uD83D\uDD34"]})]})]})}catch(e){return console.error("App component error:",e),(0,r.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[(0,r.jsx)("h2",{children:"Something went wrong"}),(0,r.jsx)("p",{children:"Please refresh the page"}),(0,r.jsxs)("details",{style:{marginTop:"20px",textAlign:"left"},children:[(0,r.jsx)("summary",{children:"Error details"}),(0,r.jsx)("pre",{style:{background:"#f5f5f5",padding:"10px",borderRadius:"4px"},children:(null==e?void 0:e.message)||"Unknown error"})]})]})}}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);